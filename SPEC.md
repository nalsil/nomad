# 한국노마드 웹사이트 개선 사양서

## 프로젝트 개요

한국노마드 웹사이트를 핵심 기능에 집중하여 단순화하고, 사용자 경험을 개선하는 프로젝트입니다. 데이터베이스 없이 가짜 데이터를 사용하여 UI/UX 개선에 집중합니다.

## 기술 스택

- Next.js (App Router)
- TypeScript
- Tailwind CSS
- Supabase Auth (이메일 로그인)
- React Server Components

---

## Phase 1: 페이지 구조 정리 및 내비게이션 단순화

### 오버뷰
프로젝트의 핵심 기능에 집중하기 위해 불필요한 페이지들을 제거하고, 내비게이션을 인증/프로필 관련 기능만 남기도록 단순화합니다. 홈페이지와 인증 페이지(로그인, 회원가입, 에러)만 유지하여 프로젝트 구조를 명확하게 정리합니다.

### 수정/개선 사항
- [x] 홈페이지(`/`) 제외한 모든 기능 페이지 삭제 (예: about, contact, cities 상세 페이지 등) - N/A (이미 없음)
- [x] 인증 페이지(`/login`, `/register`, `/error`, `/auth`) 유지
- [x] 로그아웃 라우트(`/logout`) 유지
- [x] 내비게이션 컴포넌트에서 페이지 이동 버튼 제거 (예산, 지역, 환경 필터 버튼 유지하되 비활성화)
- [x] 내비게이션에서 인증 관련 버튼만 남기기 (로그인, 회원가입, 로그아웃, 프로필 아이콘)
- [x] 삭제된 페이지로 연결된 모든 Link 컴포넌트 제거 - N/A (없음)

### 검증/확인 사항
- [x] 홈페이지(`/`)가 정상적으로 로드되는지 확인
- [x] 로그인/회원가입/로그아웃 기능이 정상 작동하는지 확인
- [x] 삭제된 페이지 URL 접근 시 404 에러가 발생하는지 확인 - N/A
- [x] 내비게이션에 인증/프로필 관련 버튼만 남아있는지 확인
- [x] 콘솔에 라우팅 에러나 경고가 없는지 확인

---

## Phase 2: 필터 시스템 재설계

### 오버뷰
기존 필터 시스템을 명확한 카테고리와 옵션으로 재정의합니다. 예산, 지역, 환경, 최고 계절 4가지 필터로 구성하고, 각 필터는 명확한 선택 옵션을 제공합니다. 필터 UI를 개선하여 사용자가 쉽게 선택할 수 있도록 합니다.

### 필터 정의

#### 예산
- [ ] 100만원 이하
- [ ] 100~200만원
- [ ] 200만원 이상

#### 지역
- [ ] 전체
- [ ] 수도권
- [ ] 경상도
- [ ] 전라도
- [ ] 강원도
- [ ] 제주도
- [ ] 충청도

#### 환경
- [ ] 자연친화
- [ ] 도심선호
- [ ] 카페작업
- [ ] 코워킹 필수

#### 최고 계절
- [ ] 봄
- [ ] 여름
- [ ] 가을
- [ ] 겨울

### 수정/개선 사항
- [x] 필터 데이터 타입 정의 (TypeScript interface/type)
- [x] 내비게이션의 필터 버튼을 새로운 필터 옵션으로 변경
- [x] 필터 선택 UI 구현 (드롭다운 또는 모달)
- [x] 필터 상태 관리 구현 (useState 또는 URL 쿼리 파라미터)
- [x] 필터 초기화 기능 추가

### 검증/확인 사항
- [x] 각 필터 버튼 클릭 시 올바른 옵션이 표시되는지 확인
- [x] 필터 선택 시 상태가 정상적으로 업데이트되는지 확인
- [x] 여러 필터를 동시에 선택할 수 있는지 확인
- [x] 필터 초기화 버튼이 모든 필터를 초기 상태로 되돌리는지 확인
- [x] 모바일 화면에서도 필터 UI가 정상적으로 작동하는지 확인

---

## Phase 3: 평가 시스템 개선 (별점 → 좋아요/싫어요)

### 오버뷰
복잡한 별점 평가 시스템을 간단한 좋아요/싫어요 버튼으로 대체합니다. 사용자 인터랙션에 따라 버튼 상태(색상)가 변경되고, 좋아요/싫어요 카운트가 실시간으로 업데이트됩니다. 로그인하지 않은 사용자도 카운트를 볼 수 있지만, 버튼 클릭은 로그인 사용자만 가능합니다.

### 수정/개선 사항
- [x] 별점(Star Rating) 컴포넌트 및 관련 코드 제거
- [x] 좋아요/싫어요 버튼 컴포넌트 생성
  - [x] 좋아요 버튼 (ThumbsUp 아이콘)
  - [x] 싫어요 버튼 (ThumbsDown 아이콘)
- [x] 버튼 상태 관리 구현
  - [x] 미선택 상태: 회색 아이콘
  - [x] 좋아요 선택: 파란색 아이콘
  - [x] 싫어요 선택: 빨간색 아이콘
- [x] 좋아요/싫어요 카운트 표시
- [x] 버튼 클릭 시 상태 토글 기능 구현
- [x] 로그인 체크 로직 추가 (비로그인 시 로그인 페이지로 리다이렉트)
- [x] 카드 컴포넌트에 새로운 평가 시스템 적용

### 검증/확인 사항
- [x] 별점 UI가 완전히 제거되었는지 확인
- [x] 좋아요 버튼 클릭 시 파란색으로 변경되고 카운트가 증가하는지 확인
- [x] 싫어요 버튼 클릭 시 빨간색으로 변경되고 카운트가 증가하는지 확인
- [x] 좋아요 선택 후 다시 클릭 시 선택 해제되고 카운트가 감소하는지 확인
- [x] 좋아요와 싫어요를 번갈아 선택할 때 상태가 올바르게 전환되는지 확인
- [x] 비로그인 상태에서 버튼 클릭 시 로그인 페이지로 이동하는지 확인
- [x] 페이지 새로고침 후에도 좋아요/싫어요 상태가 유지되는지 확인

---

## Phase 4: 도시 카드 구조 재설계

### 오버뷰
도시 카드에 필터 정보를 명확하게 표시하도록 UI를 재설계합니다. 예산, 지역, 환경, 최고 계절을 Key-Value 형태로 구조화하여 사용자가 한눈에 정보를 파악할 수 있도록 개선합니다. 불필요한 "자세히 보기" 버튼을 제거하여 UI를 단순화합니다.

### 데이터 타입 정의

```typescript
interface City {
  id: string
  name: string
  image: string
  budget: "100만원 이하" | "100~200만원" | "200만원 이상"
  region: "수도권" | "경상도" | "전라도" | "강원도" | "제주도" | "충청도"
  environment: "자연친화" | "도심선호" | "카페작업" | "코워킹 필수"
  bestSeason: "봄" | "여름" | "가을" | "겨울"
  likes: number
  dislikes: number
}
```

### 카드 레이아웃 구조
- [x] 상단: 도시 이미지
- [x] 중단: 도시 이름
- [x] 하단: 필터 정보 (Key-Value 그리드 레이아웃)
  - [x] 예산 표시
  - [x] 지역 표시
  - [x] 환경 표시
  - [x] 최고 계절 표시
- [x] 하단: 좋아요/싫어요 버튼

### 수정/개선 사항
- [x] 도시 데이터 타입 업데이트 (필터 필드 추가)
- [x] 카드 레이아웃 재설계
- [x] "자세히 보기" 버튼 제거
- [x] 필터 정보 표시 컴포넌트 생성 (아이콘 + 레이블)
- [x] 반응형 레이아웃 적용 (모바일/태블릿/데스크톱)

### 검증/확인 사항
- [x] 각 카드에 예산, 지역, 환경, 최고 계절 정보가 표시되는지 확인
- [x] Key-Value 형태로 정보가 명확하게 구분되어 보이는지 확인
- [x] "자세히 보기" 버튼이 완전히 제거되었는지 확인
- [x] 카드 레이아웃이 모바일/태블릿/데스크톱에서 올바르게 표시되는지 확인
- [x] 필터 정보 레이블이 가독성 있게 표시되는지 확인
- [x] 카드 내 모든 요소가 적절한 간격으로 배치되었는지 확인

---

## Phase 5: 가짜 데이터 생성 및 업데이트

### 오버뷰
새로운 필터 시스템과 카드 구조에 맞는 가짜 데이터를 생성합니다. 각 도시는 예산, 지역, 환경, 최고 계절 정보를 포함하며, 다양한 조합을 통해 필터 테스트가 가능하도록 구성합니다. 최소 10-15개의 도시 데이터를 생성하여 UI 테스트에 충분한 데이터를 확보합니다.

### 데이터 요구사항
- [x] 최소 10-15개의 도시 데이터 생성
- [x] 실제 한국 도시 이름 사용 (서울, 부산, 제주, 강릉, 전주 등)
- [x] 각 도시에 고유 ID 부여
- [x] 모든 필터 옵션이 골고루 분포되도록 구성

### 수정/개선 사항
- [x] 기존 가짜 데이터 파일 수정 또는 새로 생성
- [x] 각 도시별로 필터 정보 추가
  - [x] 예산: 모든 옵션 골고루 분포
  - [x] 지역: 7개 지역 골고루 분포
  - [x] 환경: 4가지 환경 골고루 분포
  - [x] 최고 계절: 4개 계절 골고루 분포
- [x] 좋아요/싫어요 초기값 설정 (랜덤한 숫자)

### 검증/확인 사항
- [x] 모든 도시 데이터가 필수 필드를 포함하는지 확인
- [x] 예산 옵션이 골고루 분포되어 있는지 확인
- [x] 7개 지역이 모두 최소 1개 이상의 도시를 가지는지 확인
- [x] 4가지 환경이 모두 최소 1개 이상의 도시에 할당되었는지 확인
- [x] 4개 계절이 모두 최소 1개 이상의 도시에 할당되었는지 확인
- [x] 좋아요/싫어요 초기값이 합리적인 범위인지 확인 (0-1000)
- [x] 데이터 파일을 import 했을 때 에러가 발생하지 않는지 확인

---

## Phase 6: 홈페이지 도시 리스트 재구성

### 오버뷰
홈페이지의 "TOP 추천도시" 섹션을 "도시 리스트"로 변경하고, 모든 도시를 좋아요 수 기준으로 정렬하여 표시합니다. 필터 적용 시 해당 조건에 맞는 도시만 필터링되어 표시되며, 필터가 없을 경우 전체 도시를 좋아요 순으로 나열합니다.

### 수정/개선 사항
- [x] "TOP 추천도시" 제목을 "도시 리스트"로 변경
- [x] 도시 정렬 로직 구현 (좋아요 내림차순)
- [x] 필터 적용 로직 구현
  - [x] 예산 필터 적용
  - [x] 지역 필터 적용
  - [x] 환경 필터 적용
  - [x] 최고 계절 필터 적용
  - [x] 복수 필터 동시 적용 (AND 조건)
- [x] 필터 적용 시 실시간 도시 리스트 업데이트
- [x] 필터 결과가 없을 경우 "조건에 맞는 도시가 없습니다" 메시지 표시
- [x] 필터 적용 상태 표시 (현재 선택된 필터 태그)

### 검증/확인 사항
- [x] 페이지 로드 시 모든 도시가 좋아요 순으로 정렬되어 표시되는지 확인
- [x] "도시 리스트" 제목이 올바르게 표시되는지 확인
- [x] 예산 필터 선택 시 해당 예산의 도시만 표시되는지 확인
- [x] 지역 필터 선택 시 해당 지역의 도시만 표시되는지 확인
- [x] 환경 필터 선택 시 해당 환경의 도시만 표시되는지 확인
- [x] 최고 계절 필터 선택 시 해당 계절의 도시만 표시되는지 확인
- [x] 여러 필터를 동시에 적용했을 때 AND 조건으로 필터링되는지 확인
- [x] 필터 결과가 없을 때 안내 메시지가 표시되는지 확인
- [x] 필터 초기화 시 전체 도시가 다시 표시되는지 확인
- [x] 좋아요 버튼 클릭 후 정렬 순서가 자동으로 업데이트되는지 확인

---

## Phase 7: 통합 테스트 및 최종 검증

### 오버뷰
모든 Phase의 작업을 통합하여 전체 시스템이 원활하게 작동하는지 종합적으로 테스트합니다. 사용자 시나리오를 기반으로 전체 플로우를 테스트하고, 버그나 UI/UX 문제를 최종 점검합니다.

### 수정/개선 사항
- [x] 코드 정리 및 리팩토링
  - [x] 사용하지 않는 import 제거
  - [x] 중복 코드 제거
  - [x] 컴포넌트 구조 최적화
- [x] 타입 안정성 검증 (TypeScript 에러 해결)
- [x] 콘솔 에러 및 경고 해결
- [x] 성능 최적화
  - [x] 불필요한 리렌더링 방지 (useMemo 적용)
  - [x] 이미지 최적화 (Next.js Image 사용)
- [x] 반응형 디자인 최종 점검
- [x] 접근성(a11y) 개선
  - [x] 키보드 네비게이션
  - [x] ARIA 라벨 추가

### 사용자 시나리오 테스트
- [x] 비로그인 사용자가 홈페이지에서 도시 목록을 확인할 수 있는지
- [x] 필터를 사용하여 원하는 조건의 도시를 찾을 수 있는지
- [x] 회원가입 → 로그인 → 좋아요 클릭 → 로그아웃 플로우가 정상 작동하는지
- [x] 좋아요/싫어요 버튼 클릭 시 즉각적인 피드백이 표시되는지
- [x] 필터 변경 시 도시 리스트가 즉시 업데이트되는지

### 기술적 검증
- [x] 콘솔에 에러나 경고가 없는지 확인
- [x] TypeScript 타입 에러가 없는지 확인
- [x] 모든 페이지가 빠르게 로드되는지 확인 (성능)
- [x] 모바일, 태블릿, 데스크톱에서 모든 기능이 작동하는지 확인
- [x] 브라우저 호환성 확인 (Chrome, Safari, Firefox)

### 코드 품질
- [x] 컴포넌트 재사용성이 높은지 확인
- [x] 코드가 읽기 쉽고 유지보수 가능한지 확인
- [x] 주석이 필요한 복잡한 로직에 주석이 추가되었는지 확인

---

## Phase 진행 현황

| Phase | 제목 | 상태 | 난이도 |
|-------|------|------|--------|
| ✅ Phase 1 | 페이지 구조 정리 및 내비게이션 단순화 | 완료 | 쉬움 |
| ✅ Phase 2 | 필터 시스템 재설계 | 완료 | 중간 |
| ✅ Phase 3 | 평가 시스템 개선 (별점 → 좋아요/싫어요) | 완료 | 중간 |
| ✅ Phase 4 | 도시 카드 구조 재설계 | 완료 | 중간 |
| ✅ Phase 5 | 가짜 데이터 생성 및 업데이트 | 완료 | 쉬움 |
| ✅ Phase 6 | 홈페이지 도시 리스트 재구성 | 완료 | 어려움 |
| ✅ Phase 7 | 통합 테스트 및 최종 검증 | 완료 | 중간 |

---

## 참고사항

- 각 Phase는 독립적으로 실행 가능하며, 순차적으로 진행하는 것을 권장합니다.
- 데이터베이스는 사용하지 않으며, 모든 데이터는 로컬 상태로 관리됩니다.
- Supabase Auth는 이메일 로그인만 사용합니다.
- 모든 체크박스는 작업 진행 상황을 추적하는 데 사용됩니다.
